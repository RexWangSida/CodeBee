<html lang="en">
<head>
  <meta charset="utf-8" />
</head>
<link href="./lmdd.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css" type="text/css"
      rel="stylesheet" media="screen,projection">
<script src="./lmdd.min.js"></script>

<div id="nested-example" class="example">
  <input id="textbox" action="addElement" placeholder="Add an element">
  <div id="drag-scope">
    <div id="program" class="nestable light yellow">
      Program
      <div class="nestable w-1-3 light purple nested-item accent-1 z-depth-3">
        Assign
        <div class="nestable purple z-depth-1"><p>Variable</p></div>
        <div class="nestable purple z-depth-1"><p>Expression</p></div>
      </div>
      <div class="nestable w-1-3 light red nested-item accent-1 z-depth-3">
          <div class="nested-item red z-depth-1"><p>Red</p></div>
          <div class="nested-item red z-depth-1"><p>Red</p></div>
          <div class="nested-item red z-depth-1"><p>Red</p></div>
      </div>
      <div class="nestable w-1-3 light green nested-item accent-1 z-depth-3">
          <div class="nested-item green z-depth-1"><p>Green</p></div>
          <div class="nested-item green z-depth-1"><p>Green</p></div>
          <div class="nested-item green z-depth-1"><p>Green</p></div>
      </div>
      <div class="nestable w-1-3 light blue nested-item accent-1 z-depth-3">
          <div class="nested-item blue z-depth-1"><p>Blue</p></div>
          <div class="nested-item blue z-depth-1"><p>Blue</p></div>
          <div class="nested-item blue z-depth-1"><p>Blue</p></div>
      </div>
    </div>
  </div>
</div>

<script>
  lmdd.set(document.getElementById('nested-example'), {
      containerClass: 'nestable',
      draggableItemClass: 'nested-item'
  });

  program = document.getElementById("program");

  input = document.getElementById("textbox");
  input.addEventListener("keyup", function(event) {
    if (event.key === 'Enter' || event.keyCode === 13) {
      var btn = document.createElement("BUTTON");   // Create a <button> element
      btn.innerHTML = "CLICK ME";                   // Insert text
      program.appendChild(btn);
    }
  });
</script>
</html>
